sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "EV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "EV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVD"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVD"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVC"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVC"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
nrow(filtered_tidbit)
)
)
# Print the Combined Table
print("Combined Pattern Counts for All Variables:")
print(combined_pattern_counts)
tuna_table<-kable(combined_pattern_counts, format = "markdown", caption="Table 1. Quality control flag count summary for Tuna River.")
tuna_table
colnames(tuna)[1] <- "date"
tuna$date<-as.POSIXct(tuna$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- tuna %>%
filter(depth_tuna1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- tuna %>%
filter(twtr_tuna1pt_qlevel != 1)
# Filtered Tidbit Data
filtered_tidbit <- tuna %>%
filter(twtr_tuna1_tb1_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_tuna_counts <- data.frame(
Variable = c("Depth", "Temperature", "Tidbit"),
AV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "AV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "AV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "MV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "MV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "EV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "EV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVD"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVD"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVC"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVC"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
nrow(filtered_tidbit)
)
)
# Define the start and end dates for the date range
first_date_tid <- temp$date[1]
colnames(tuna)[1] <- "date"
tuna$date<-as.POSIXct(tuna$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- tuna %>%
filter(depth_tuna1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- tuna %>%
filter(twtr_tuna1pt_qlevel != 1)
# Filtered Tidbit Data
filtered_tidbit <- tuna %>%
filter(twtr_tuna1_tb1_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_tuna_counts <- data.frame(
Variable = c("Depth", "Temperature", "Tidbit"),
AV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "AV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "AV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "MV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "MV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "EV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "EV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVD"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVD"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVC"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVC"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
nrow(filtered_tidbit)
)
)
# Define the start and end dates for the date range
first_date_tid <- tuna$date[1]
last_date_tid <- tuna$date[nrow(tidbit_cleaned)]
colnames(tuna)[1] <- "date"
tuna$date<-as.POSIXct(tuna$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- tuna %>%
filter(depth_tuna1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- tuna %>%
filter(twtr_tuna1pt_qlevel != 1)
# Filtered Tidbit Data
filtered_tidbit <- tuna %>%
filter(twtr_tuna1_tb1_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_tuna_counts <- data.frame(
Variable = c("Depth", "Temperature", "Tidbit"),
AV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "AV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "AV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "MV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "MV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_tuna1pt_qflag == "EV"),
sum(filtered_temp$twtr_tuna1pt_qflag == "EV"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVD"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVD"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_tuna1pt_qflag == "SVC"),
sum(filtered_temp$twtr_tuna1pt_qflag == "SVC"),
sum(filtered_tidbit$twtr_tuna1_tb1_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
nrow(filtered_tidbit)
)
)
str(tuna)
tuna_table<-kable(combined_pattern_counts, format = "markdown", caption="Table 1. Quality control flag count summary for Tuna River.")
tuna_table
setwd("~/git-repos/nanwakolas-watersheds-data")
first_date <- min(as.POSIXct(tuna$date))
last_date <- max(as.POSIXct(tun$date))
# Load data - read headers
fileheaders <- read.csv("fulmore-timeseries.csv",
nrows = 1, as.is = TRUE,
header = FALSE)
# Read in data, drop redundant header rows
full <- read.csv("fulmore-timeseries.csv",
header = TRUE,
stringsAsFactors = FALSE)
# Add headers to dataframe
colnames(full) <- fileheaders
names(full)
glimpse(full)
colnames(full)[1] <- "date"
tuna$date<-as.POSIXct(full$date, format="%Y-%m-%d %H:%M")
View(full)
View(full)
# Load data - read headers
fileheaders <- read.csv("heydon-timeseries.csv",
nrows = 1, as.is = TRUE,
header = FALSE)
# Read in data, drop redundant header rows
heyd <- read.csv("heydon-timeseries.csv",
header = TRUE,
stringsAsFactors = FALSE)
# Add headers to dataframe
colnames(heyd) <- fileheaders
names(heyd)
glimpse(heyd)
View(heyd)
# Load data - read headers
fileheaders <- read.csv("glendale-timeseries.csv",
nrows = 1, as.is = TRUE,
header = FALSE)
# Read in data, drop redundant header rows
glen <- read.csv("glendale-timeseries.csv",
header = TRUE,
stringsAsFactors = FALSE)
# Load data - read headers
fileheaders <- read.csv("glendale-timeseries.csv",
nrows = 1, as.is = TRUE,
header = FALSE)
# Read in data, drop redundant header rows
glen <- read.csv("glendale-timeseries.csv",
header = TRUE,
stringsAsFactors = FALSE)
# Add headers to dataframe
colnames(glen) <- fileheaders
names(glen)
glimpse(glen)
colnames(glen)[1] <- "date"
glen$date<-as.POSIXct(glen$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature", "Tidbit"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
)
)
colnames(glen)[1] <- "date"
glen$date<-as.POSIXct(glen$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
)
)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
)
)
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
colnames(glen)[1] <- "date"
glen$date<-as.POSIXct(glen$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV"),
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV"),
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV"),
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD"),
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVC"),
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
)
)
View(glen)
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV"),
)
combined_glen_counts <- data.frame(
View(filtered_temp)
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV"),
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV"),
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV"),
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD"),
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVC"),
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
)
)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
View(filtered_temp)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV"),
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV"),
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV"),
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD"),
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVC"),
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp),
)
)
# Assuming your data is stored in 'filtered_depth' and 'filtered_temp'
flags <- c("AV", "MV", "EV", "SVD", "SVC")
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
sapply(flags, function(flag) {
sum(table(filtered_depth$depth_glen1pt_qflag)[flag])
}),
sapply(flags, function(flag) {
sum(table(filtered_temp$twtr_glen1pt_qflag)[flag])
}),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp)
)
)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
sapply(flags, function(flag) {
sum(filtered_depth$depth_glen1pt_qflag == flag)
}),
sapply(flags, function(flag) {
sum(filtered_temp$twtr_glen1pt_qflag == flag)
}),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp)
)
)
View(glen)
colnames(glen)[1] <- "date"
glen$date<-as.POSIXct(glen$date, format="%Y-%m-%d %H:%M")
# Filtered Depth Data
filtered_depth <- glen %>%
filter(depth_glen1pt_qlevel != 1)
# Filtered Temperature Data
filtered_temp <- glen %>%
filter(twtr_glen1pt_qlevel != 1)
# Combine Pattern Counts for All Variables
combined_glen_counts <- data.frame(
Variable = c("Depth", "Temperature"),
AV = c(
sum(filtered_depth$depth_glen1pt_qflag == "AV"),
sum(filtered_temp$twtr_glen1pt_qflag == "AV")
),
MV = c(
sum(filtered_depth$depth_glen1pt_qflag == "MV"),
sum(filtered_temp$twtr_glen1pt_qflag == "MV")
),
EV = c(
sum(filtered_depth$depth_glen1pt_qflag == "EV"),
sum(filtered_temp$twtr_glen1pt_qflag == "EV")
),
SVD = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVD"),
sum(filtered_temp$twtr_glen1pt_qflag == "SVD")
),
SVC = c(
sum(filtered_depth$depth_glen1pt_qflag == "SVC"),
sum(filtered_temp$twtr_full1pt_qflag == "SVC")
),
Total = c(
nrow(filtered_depth),
nrow(filtered_temp)
)
)
first_date <- min(as.POSIXct(glen$date))
last_date <- max(as.POSIXct(glen$date))
